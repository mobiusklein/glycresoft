<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LC-MS/MS Data Preprocessing and Deconvolution &#8212; glycresoft  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css?v=4d9aecc8" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=29203c93" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Searching a Processed Sample with a Glycan Database" href="search-glycan.html" />
    <link rel="prev" title="Search and Analysis Tools" href="index.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>glycresoft  documentation</span></a></h1>
        <h2 class="heading"><span>LC-MS/MS Data Preprocessing and Deconvolution</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Search and Analysis Tools</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="search-glycan.html">Searching a Processed Sample with a Glycan Database</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        <div id="toc">
          <h3>Table Of Contents</h3>
          <ul>
<li><a class="reference internal" href="#">LC-MS/MS Data Preprocessing and Deconvolution</a><ul>
<li><a class="reference internal" href="#glycresoft-mzml-preprocess">glycresoft mzml preprocess</a></li>
<li><a class="reference internal" href="#usage-example">Usage example</a></li>
<li><a class="reference internal" href="#averagine-models">Averagine Models</a><ul>
<li><a class="reference internal" href="#builtin-models">Builtin Models</a></li>
</ul>
</li>
<li><a class="reference internal" href="#supported-file-formats">Supported File Formats</a></li>
<li><a class="reference internal" href="#signal-filters">Signal Filters</a></li>
<li><a class="reference internal" href="#output-information">Output Information</a></li>
<li><a class="reference internal" href="#bibliography">Bibliography</a></li>
</ul>
</li>
</ul>

        </div>
        
  <section id="lc-ms-ms-data-preprocessing-and-deconvolution">
<span id="mzml-preprocess"></span><h1>LC-MS/MS Data Preprocessing and Deconvolution<a class="headerlink" href="#lc-ms-ms-data-preprocessing-and-deconvolution" title="Permalink to this heading">¶</a></h1>
<p>Convert raw mass spectral data files into deisotoped neutral mass peak lists
written to a new <strong>mzML</strong> <a class="reference internal" href="#martens2011" id="id1"><span>[Martens2011]</span></a> file. For tandem mass spectra,
recalculate precursor ion monoisotopic peaks.</p>
<p>This task is computationally intensive, and uses several collaborative processes
to share the work.</p>
<section class="click-command-section" id="glycresoft-mzml-preprocess">
<h2>glycresoft mzml preprocess<a class="headerlink" href="#glycresoft-mzml-preprocess" title="Permalink to this heading">¶</a></h2>
<p>Convert raw mass spectra data into deisotoped neutral mass peak lists.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>glycresoft<span class="w"> </span>mzml<span class="w"> </span>preprocess<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>MS_FILE<span class="w"> </span>OUTFILE_PATH
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-a">
<span id="cmdoption-glycresoft-mzml-preprocess-averagine"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--averagine</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;averagine&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Averagine model to use for MS1 scans. Either a name or formula. May specify multiple times. (May specify more than once)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-an">
<span id="cmdoption-glycresoft-mzml-preprocess-msn-averagine"></span><span class="sig-name descname"><span class="pre">-an</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--msn-averagine</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;averagine&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-an" title="Permalink to this definition">¶</a></dt>
<dd><p>Averagine model to use for MS^n scans. Either a name or formula. May specify multiple times. (May specify more than once)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-s">
<span id="cmdoption-glycresoft-mzml-preprocess-start-time"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--start-time</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan time to begin processing at in minutes</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-e">
<span id="cmdoption-glycresoft-mzml-preprocess-end-time"></span><span class="sig-name descname"><span class="pre">-e</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--end-time</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-e" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan time to stop processing at in minutes</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-c">
<span id="cmdoption-glycresoft-mzml-preprocess-maximum-charge"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--maximum-charge</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-c" title="Permalink to this definition">¶</a></dt>
<dd><p>Highest absolute charge state to consider</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-n">
<span id="cmdoption-glycresoft-mzml-preprocess-name"></span><span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--name</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-n" title="Permalink to this definition">¶</a></dt>
<dd><p>Name for the sample run to be stored. Defaults to the base name of the input data file</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-t">
<span id="cmdoption-glycresoft-mzml-preprocess-score-threshold"></span><span class="sig-name descname"><span class="pre">-t</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--score-threshold</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-t" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum score to accept an isotopic pattern fit in an MS1 scan</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-tn">
<span id="cmdoption-glycresoft-mzml-preprocess-msn-score-threshold"></span><span class="sig-name descname"><span class="pre">-tn</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--msn-score-threshold</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-tn" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum score to accept an isotopic pattern fit in an MS^n scan</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-m">
<span id="cmdoption-glycresoft-mzml-preprocess-missed-peaks"></span><span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--missed-peaks</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-m" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of missing peaks to permit before an isotopic fit is discarded</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-mn">
<span id="cmdoption-glycresoft-mzml-preprocess-msn-missed-peaks"></span><span class="sig-name descname"><span class="pre">-mn</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--msn-missed-peaks</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-mn" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of missing peaks to permit before an isotopic fit is discarded in an MSn scan</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-p">
<span id="cmdoption-glycresoft-mzml-preprocess-processes"></span><span class="sig-name descname"><span class="pre">-p</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--processes</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-p" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of worker processes to use. Defaults to 4 or the number of CPUs, whichever is lower</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-b">
<span id="cmdoption-glycresoft-mzml-preprocess-background-reduction"></span><span class="sig-name descname"><span class="pre">-b</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--background-reduction</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-b" title="Permalink to this definition">¶</a></dt>
<dd><p>Background reduction factor. Larger values more aggresively remove low abundance signal in MS1 scans.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-bn">
<span id="cmdoption-glycresoft-mzml-preprocess-msn-background-reduction"></span><span class="sig-name descname"><span class="pre">-bn</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--msn-background-reduction</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-bn" title="Permalink to this definition">¶</a></dt>
<dd><p>Background reduction factor. Larger values more aggresively remove low abundance signal in MS^n scans.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-r">
<span id="cmdoption-glycresoft-mzml-preprocess-transform"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--transform</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;func&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-r" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan transformations to apply to MS1 scans. May specify more than once. (May specify more than once)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-rn">
<span id="cmdoption-glycresoft-mzml-preprocess-msn-transform"></span><span class="sig-name descname"><span class="pre">-rn</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--msn-transform</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;func&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-rn" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan transformations to apply to MS^n scans. May specify more than once. (May specify more than once)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-v">
<span id="cmdoption-glycresoft-mzml-preprocess-extract-only-tandem-envelopes"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--extract-only-tandem-envelopes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Only work on regions that will be chosen for MS/MS</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-verbose">
<span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Log additional diagnostic information for each scan.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-g">
<span id="cmdoption-glycresoft-mzml-preprocess-ms1-averaging"></span><span class="sig-name descname"><span class="pre">-g</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--ms1-averaging</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-g" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of MS1 scans before and after the current MS1 scan to average when picking peaks.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-ignore-msn">
<span class="sig-name descname"><span class="pre">--ignore-msn</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-ignore-msn" title="Permalink to this definition">¶</a></dt>
<dd><p>Ignore MS^n scans</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-i">
<span id="cmdoption-glycresoft-mzml-preprocess-isotopic-strictness"></span><span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--isotopic-strictness</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-i" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-in">
<span id="cmdoption-glycresoft-mzml-preprocess-msn-isotopic-strictness"></span><span class="sig-name descname"><span class="pre">-in</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--msn-isotopic-strictness</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-snr">
<span id="cmdoption-glycresoft-mzml-preprocess-signal-to-noise-threshold"></span><span class="sig-name descname"><span class="pre">-snr</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--signal-to-noise-threshold</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-snr" title="Permalink to this definition">¶</a></dt>
<dd><p>Signal-to-noise ratio threshold to apply when filtering peaks</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-mo">
<span id="cmdoption-glycresoft-mzml-preprocess-mass-offset"></span><span class="sig-name descname"><span class="pre">-mo</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--mass-offset</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-mo" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift peak masses by the given amount</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-D">
<span id="cmdoption-glycresoft-mzml-preprocess-default-precursor-ion-selection-window"></span><span class="sig-name descname"><span class="pre">-D</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--default-precursor-ion-selection-window</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-D" title="Permalink to this definition">¶</a></dt>
<dd><p>The isolation window width to assume when it is not specified.</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-arg-MS_FILE">
<span class="sig-name descname"><span class="pre">MS_FILE</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-arg-MS_FILE" title="Permalink to this definition">¶</a></dt>
<dd><p>Required argument
&lt;path&gt;</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-mzml-preprocess-arg-OUTFILE_PATH">
<span class="sig-name descname"><span class="pre">OUTFILE_PATH</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-mzml-preprocess-arg-OUTFILE_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Required argument
&lt;path&gt;</p>
</dd></dl>

</section>
<section id="usage-example">
<h2>Usage example<a class="headerlink" href="#usage-example" title="Permalink to this heading">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">example usage</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>glycresoft-cli<span class="w"> </span>mzml<span class="w"> </span>preprocess<span class="w"> </span>-a<span class="w"> </span>permethylated-glycan<span class="w"> </span>-t<span class="w"> </span><span class="m">20</span><span class="w"> </span>-p<span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-s<span class="w"> </span><span class="m">5</span>.0<span class="w"> </span>-e<span class="w"> </span><span class="m">60</span>.0<span class="w"> </span><span class="s2">&quot;path/to/input&quot;</span><span class="w"> </span><span class="s2">&quot;path/to/output.mzML&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="averagine-models">
<h2>Averagine Models<a class="headerlink" href="#averagine-models" title="Permalink to this heading">¶</a></h2>
<p>Argument type for <code class="docutils literal notranslate"><span class="pre">&lt;averagine&gt;</span></code>. The model selected influences how isotopic
patterns are estimated for an arbitrary mass. The value of this parameter may
be a builtin model name or a formula.</p>
<p>For a more complete discsussion of how “averagine” isotopic models work, see <a class="reference internal" href="#senko1995" id="id2"><span>[Senko1995]</span></a>.</p>
<section id="builtin-models">
<h3>Builtin Models<a class="headerlink" href="#builtin-models" title="Permalink to this heading">¶</a></h3>
<div class="admonition error">
<p class="admonition-title">Error</p>
<p>Unable to execute python code at mzml-preprocess.rst:38:</p>
<p>cannot import name ‘AveragineParamType’ from ‘glycan_profiling.cli.validators’ (c:\users\joshua\dev\glycresoft\src\glycan_profiling\cli\validators.py)</p>
</div>
<p>Traceback (most recent call last):
  File “C:\Users\Joshua\Dev\glycresoft\docs\_ext\exec_directive.py”, line 24, in run
    exec(‘\n’.join(self.content))
  File “&lt;string&gt;”, line 1, in &lt;module&gt;
ImportError: cannot import name ‘AveragineParamType’ from ‘glycan_profiling.cli.validators’ (c:\users\joshua\dev\glycresoft\src\glycan_profiling\cli\validators.py)
</p>
</section>
</section>
<section id="supported-file-formats">
<h2>Supported File Formats<a class="headerlink" href="#supported-file-formats" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">MS_FILE</span></code> may be in mzML or mzXML format.</p>
</section>
<section id="signal-filters">
<h2>Signal Filters<a class="headerlink" href="#signal-filters" title="Permalink to this heading">¶</a></h2>
<p>Prior to picking peaks, the raw mass spectral signal may be filtered a number
of ways. By default, a local noise reduction filter is applied, modulated by
<code class="docutils literal notranslate"><span class="pre">-b</span></code> and <code class="docutils literal notranslate"><span class="pre">-bn</span></code> options respectively. Other filers may be set using <code class="docutils literal notranslate"><span class="pre">-r</span></code>
and <code class="docutils literal notranslate"><span class="pre">-rn</span></code>:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mean_below_mean</span></code> - Remove all points below the mean of all points below the mean of all unfiltered points of this scan</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">median</span></code> - Remove all points below the median intensity of this scan</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">one_percent_of_max</span></code> - Remove all points with intensity less than 1% of the maximum intensity point of this scan</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fticr_baseline</span></code> - Apply the same background reduction algorithm used by <code class="docutils literal notranslate"><span class="pre">-b</span></code> and <code class="docutils literal notranslate"><span class="pre">-bn</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">savitsky_golay</span></code> - Apply Savtisky-Golay smoothing on the intensities of this scan</p></li>
</ol>
</section>
<section id="output-information">
<h2>Output Information<a class="headerlink" href="#output-information" title="Permalink to this heading">¶</a></h2>
<p>The resulting mzML file from this tool attempts to preserve as much metadata as possible
from the source data file, and records its own metadata in the appropriate sections of
the document.</p>
<p>Each scan has a standard set of <code class="docutils literal notranslate"><span class="pre">cvParam</span></code> entries covering scan polarity,
peak mode, and MS level. In addition to the normal <code class="docutils literal notranslate"><span class="pre">m/z</span> <span class="pre">array</span></code> and <code class="docutils literal notranslate"><span class="pre">intensity</span> <span class="pre">array</span></code>
entries, each scan also includes the standardized <code class="docutils literal notranslate"><span class="pre">charge</span> <span class="pre">array</span></code>, as well as two non-standard
arrays, <code class="docutils literal notranslate"><span class="pre">deconvolution</span> <span class="pre">score</span> <span class="pre">array</span></code> and <code class="docutils literal notranslate"><span class="pre">isotopic</span> <span class="pre">envelopes</span> <span class="pre">array</span></code>. The <code class="docutils literal notranslate"><span class="pre">deconvolution</span> <span class="pre">score</span> <span class="pre">array</span></code>
is just the result of the goodness-of-fit function used to evaluate the isotopic envelopes resulting
in the reported peaks. The <code class="docutils literal notranslate"><span class="pre">isotopic</span> <span class="pre">envelopes</span> <span class="pre">array</span></code> is more complex, as it encodes the set of isotopic
peaks used to fit each reported peak, and does not have a one-to-one relationship with other arrays.</p>
<p>To unpack the <code class="docutils literal notranslate"><span class="pre">isotopic</span> <span class="pre">envelopes</span> <span class="pre">array</span></code> after decoding, the we use the following logic:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">def</span> <span class="nf">decode_envelopes</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 3</span><span class="sd">    Arguments</span>
<span class="linenos"> 4</span><span class="sd">    ---------</span>
<span class="linenos"> 5</span><span class="sd">    array: float32 array</span>
<span class="linenos"> 6</span><span class="sd">    &#39;&#39;&#39;</span>
<span class="linenos"> 7</span>    <span class="n">envelope_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 8</span>    <span class="n">current_envelope</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 9</span>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">10</span>    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
<span class="linenos">11</span>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
<span class="linenos">12</span>        <span class="c1"># fetch the next two values</span>
<span class="linenos">13</span>        <span class="n">mz</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="linenos">14</span>        <span class="n">intensity</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
<span class="linenos">15</span>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
<span class="linenos">16</span>
<span class="linenos">17</span>        <span class="c1"># if both numbers are zero, this denotes the beginning</span>
<span class="linenos">18</span>        <span class="c1"># of a new envelope</span>
<span class="linenos">19</span>        <span class="k">if</span> <span class="n">mz</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">intensity</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">20</span>            <span class="k">if</span> <span class="n">current_envelope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">21</span>                <span class="k">if</span> <span class="n">current_envelope</span><span class="p">:</span>
<span class="linenos">22</span>                    <span class="n">envelope_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Envelope</span><span class="p">(</span><span class="n">current_envelope</span><span class="p">))</span>
<span class="linenos">23</span>                <span class="n">current_envelope</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">24</span>        <span class="c1"># otherwise add the current point to the existing envelope</span>
<span class="linenos">25</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">26</span>            <span class="n">current_envelope</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">EnvelopePair</span><span class="p">(</span><span class="n">mz</span><span class="p">,</span> <span class="n">intensity</span><span class="p">))</span>
<span class="linenos">27</span>    <span class="n">envelope_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Envelope</span><span class="p">(</span><span class="n">current_envelope</span><span class="p">))</span>
<span class="linenos">28</span>    <span class="k">return</span> <span class="n">envelope_list</span>
</pre></div>
</div>
</section>
<section id="bibliography">
<h2>Bibliography<a class="headerlink" href="#bibliography" title="Permalink to this heading">¶</a></h2>
<div role="list" class="citation-list">
<div class="citation" id="senko1995" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Senko1995</a><span class="fn-bracket">]</span></span>
<p>Senko, M. W., Beu, S. C., &amp; McLafferty, F. W. (1995). Determination of
monoisotopic masses and ion populations for large biomolecules from resolved
isotopic distributions.
Journal of the American Society for Mass Spectrometry, 6(4), 229–233.
<a class="reference external" href="https://doi.org/10.1016/1044-0305(95)00017-8">https://doi.org/10.1016/1044-0305(95)00017-8</a></p>
</div>
<div class="citation" id="martens2011" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">Martens2011</a><span class="fn-bracket">]</span></span>
<p>Martens, L., Chambers, M., Sturm, M., Kessner, D., Levander, F., Shofstahl, J.,
… Deutsch, E. W. (2011). mzML–a community standard for mass spectrometry data.
Molecular &amp; Cellular Proteomics : MCP, 10(1), R110.000133.
<a class="reference external" href="https://doi.org/10.1074/mcp.R110.000133">https://doi.org/10.1074/mcp.R110.000133</a></p>
</div>
</div>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Search and Analysis Tools</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="search-glycan.html">Searching a Processed Sample with a Glycan Database</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Joshua Klein.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>