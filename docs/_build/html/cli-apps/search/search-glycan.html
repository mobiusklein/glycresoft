<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Searching a Processed Sample with a Glycan Database &#8212; glycresoft  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css?v=4d9aecc8" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=29203c93" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Searching a Processed Sample with a Glycopeptide Database" href="search-glycopeptide.html" />
    <link rel="prev" title="LC-MS/MS Data Preprocessing and Deconvolution" href="mzml-preprocess.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>glycresoft  documentation</span></a></h1>
        <h2 class="heading"><span>Searching a Processed Sample with a Glycan Database</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="mzml-preprocess.html">LC-MS/MS Data Preprocessing and Deconvolution</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="search-glycopeptide.html">Searching a Processed Sample with a Glycopeptide Database</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        <div id="toc">
          <h3>Table Of Contents</h3>
          <ul>
<li><a class="reference internal" href="#">Searching a Processed Sample with a Glycan Database</a><ul>
<li><a class="reference internal" href="#glycresoft-analyze-search-glycan">glycresoft analyze search-glycan</a></li>
<li><a class="reference internal" href="#usage-example">Usage Example</a></li>
<li><a class="reference internal" href="#adducts">Adducts</a></li>
<li><a class="reference internal" href="#network-regularization">Network Regularization</a></li>
<li><a class="reference internal" href="#ms-ms-signatures">MS/MS Signatures</a></li>
</ul>
</li>
</ul>

        </div>
        
  <section id="searching-a-processed-sample-with-a-glycan-database">
<span id="glycan-search"></span><h1>Searching a Processed Sample with a Glycan Database<a class="headerlink" href="#searching-a-processed-sample-with-a-glycan-database" title="Permalink to this heading">¶</a></h1>
<p>Match features from a deconvoluted LC-MS or LC-MS/MS
data file with released glycan compositions from a
glycan hypothesis (see <a class="reference internal" href="../database/combinatorial-glycan.html#combinatorial-glycan-hypothesis"><span class="std std-ref">Combinatorial</span></a>,
<a class="reference internal" href="../database/text-glycan.html#text-glycan-hypothesis"><span class="std std-ref">Text</span></a>, and <a class="reference internal" href="../database/glyspace-glycan.html#glyspace-glycan-hypothesis"><span class="std std-ref">glySpace</span></a>
glycan database construction methods).</p>
<section class="click-command-section" id="glycresoft-analyze-search-glycan">
<h2>glycresoft analyze search-glycan<a class="headerlink" href="#glycresoft-analyze-search-glycan" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt>Identify glycan compositions from preprocessed LC-MS data, stored in mzML</dt><dd><p>format.</p>
</dd>
</dl>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>glycresoft<span class="w"> </span>analyze<span class="w"> </span>search-glycan<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>DATABASE_CONNECTION<span class="w"> </span>SAMPLE_PATH
<span class="w">                                 </span>HYPOTHESIS_IDENTIFIER
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-m">
<span id="cmdoption-glycresoft-analyze-search-glycan-mass-error-tolerance"></span><span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--mass-error-tolerance</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;relative</span> <span class="pre">mass</span> <span class="pre">error&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-m" title="Permalink to this definition">¶</a></dt>
<dd><p>Mass accuracy constraint, in parts-per-million error, for matching.  [default: 1e-05]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-mn">
<span id="cmdoption-glycresoft-analyze-search-glycan-msn-mass-error-tolerance"></span><span class="sig-name descname"><span class="pre">-mn</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--msn-mass-error-tolerance</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;relative</span> <span class="pre">mass</span> <span class="pre">error&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-mn" title="Permalink to this definition">¶</a></dt>
<dd><p>Mass accuracy constraint, in parts-per-million error, for matching MS^n ions.  [default: 2e-05]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-g">
<span id="cmdoption-glycresoft-analyze-search-glycan-grouping-error-tolerance"></span><span class="sig-name descname"><span class="pre">-g</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--grouping-error-tolerance</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;relative</span> <span class="pre">mass</span> <span class="pre">error&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-g" title="Permalink to this definition">¶</a></dt>
<dd><p>Mass accuracy constraint, in parts-per-million error, for grouping chromatograms.  [default: 1.5e-05]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-n">
<span id="cmdoption-glycresoft-analyze-search-glycan-analysis-name"></span><span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--analysis-name</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-n" title="Permalink to this definition">¶</a></dt>
<dd><p>Name for analysis to be performed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-a">
<span id="cmdoption-glycresoft-analyze-search-glycan-mass_shift"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--mass_shift</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-a" title="Permalink to this definition">¶</a></dt>
<dd><p>Adducts to consider. Specify name or formula, and a multiplicity. (May specify more than once)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-mass_shift-combination-limit">
<span class="sig-name descname"><span class="pre">--mass_shift-combination-limit</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-mass_shift-combination-limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of mass_shift combinations to consider  [default: 8]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-d">
<span id="cmdoption-glycresoft-analyze-search-glycan-minimum-mass"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--minimum-mass</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-d" title="Permalink to this definition">¶</a></dt>
<dd><p>The minimum mass to consider signal at.  [default: 500.0]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-o">
<span id="cmdoption-glycresoft-analyze-search-glycan-output-path"></span><span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--output-path</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-o" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to write resulting analysis to.  [required]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-f">
<span id="cmdoption-glycresoft-analyze-search-glycan-ms1-scoring-feature"></span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--ms1-scoring-feature</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;choice&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional features to include in evaluating chromatograms (May specify more than once)</p>
<div class="line-block">
<div class="line">Choices: [</div>
<div class="line-block">
<div class="line">null-charge; permethylated-ammonium-adducts; methyl-loss;</div>
<div class="line">permethylated-ammonium-adducts-methyl-loss; formate-adduct-model]</div>
</div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-r">
<span id="cmdoption-glycresoft-analyze-search-glycan-regularize"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--regularize</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;regularization</span> <span class="pre">parameter&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-r" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply Laplacian regularization with either a specified weight or “grid” to grid search, or a pair of values separated by a / to specify a weight or grid search  for model fitting and a separate weight for scoring</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-w">
<span id="cmdoption-glycresoft-analyze-search-glycan-regularization-model-path"></span><span class="sig-name descname"><span class="pre">-w</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--regularization-model-path</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-w" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a file containing a neighborhood model for regularization</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-k">
<span id="cmdoption-glycresoft-analyze-search-glycan-network-path"></span><span class="sig-name descname"><span class="pre">-k</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--network-path</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-k" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a file containing the glycan composition network and neighborhood rules</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-t">
<span id="cmdoption-glycresoft-analyze-search-glycan-delta-rt"></span><span class="sig-name descname"><span class="pre">-t</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--delta-rt</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-t" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum time between observed data points before splitting features  [default: 0.5]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-export">
<span class="sig-name descname"><span class="pre">--export</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;choice&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-export" title="Permalink to this definition">¶</a></dt>
<dd><p>export command to after search is complete (May specify more than once)</p>
<div class="line-block">
<div class="line">Choices: [</div>
<div class="line-block">
<div class="line">csv; glycan-list; html;</div>
<div class="line">model]</div>
</div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-s">
<span id="cmdoption-glycresoft-analyze-search-glycan-require-msms-signature"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--require-msms-signature</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum oxonium ion signature required in MS/MS scans to include.  [default: 0.0]</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-p">
<span id="cmdoption-glycresoft-analyze-search-glycan-processes"></span><span class="sig-name descname"><span class="pre">-p</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--processes</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-p" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of worker processes to use. Defaults to 4 or the number of CPUs, whichever is lower  [default: 4]</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-arg-DATABASE_CONNECTION">
<span class="sig-name descname"><span class="pre">DATABASE_CONNECTION</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-arg-DATABASE_CONNECTION" title="Permalink to this definition">¶</a></dt>
<dd><p>Required argument
&lt;databaseconnectionparam&gt; A connection URI for a database, or a path on the file system</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-arg-SAMPLE_PATH">
<span class="sig-name descname"><span class="pre">SAMPLE_PATH</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-arg-SAMPLE_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Required argument
&lt;path&gt; The path to the deconvoluted sample file</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-glycresoft-analyze-search-glycan-arg-HYPOTHESIS_IDENTIFIER">
<span class="sig-name descname"><span class="pre">HYPOTHESIS_IDENTIFIER</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-glycresoft-analyze-search-glycan-arg-HYPOTHESIS_IDENTIFIER" title="Permalink to this definition">¶</a></dt>
<dd><p>Required argument
&lt;string&gt; The ID number or name of the glycan hypothesis to use</p>
</dd></dl>

</section>
<section id="usage-example">
<h2>Usage Example<a class="headerlink" href="#usage-example" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>glycresoft<span class="w"> </span>analyze<span class="w"> </span>search-glycan<span class="w"> </span>-a<span class="w"> </span>Formate<span class="w"> </span><span class="m">1</span><span class="w"> </span>-o<span class="w"> </span>agp-native-results.db<span class="se">\</span>
<span class="w">    </span>../hypothesis/native-n-glycans.db<span class="w"> </span>path/to/sample.preprocessed.mzML<span class="w"> </span><span class="m">1</span><span class="se">\</span>
<span class="w">    </span>--export<span class="w"> </span>csv
</pre></div>
</div>
</section>
<section id="adducts">
<h2>Adducts<a class="headerlink" href="#adducts" title="Permalink to this heading">¶</a></h2>
<p>Adducts are mass shifts that may represent alternative charge carriers
such as formate or sodium, or chemical defects such as water loss or
incomplete permethylation. The software internally refers to these as
“mass shifts”.</p>
<p>Adducts are considered combinatorially, so if you were to pass <code class="docutils literal notranslate"><span class="pre">-a</span> <span class="pre">Ammonium</span> <span class="pre">3</span></code>
and <code class="docutils literal notranslate"><span class="pre">-a</span> <span class="pre">&quot;C-1H-2&quot;</span> <span class="pre">1</span></code> to indicate up to three ammonium adducts and up to one
incomplete permethylation, the program would search for</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>0 Ammonium, 0 C-1H-2</p></td>
<td><p>1 Ammonium, 0 C-1H-2</p></td>
<td><p>2 Ammonium, 0 C-1H-2</p></td>
<td><p>3 Ammonium, 0 C-1H-2</p></td>
</tr>
<tr class="row-even"><td><p>0 Ammonium, 1 C-1H-2</p></td>
<td><p>1 Ammonium, 1 C-1H-2</p></td>
<td><p>2 Ammonium, 1 C-1H-2</p></td>
<td><p>3 Ammonium, 1 C-1H-2</p></td>
</tr>
</tbody>
</table>
<p>At this time, adduction models do not have any interaction with charge state.</p>
</section>
<section id="network-regularization">
<h2>Network Regularization<a class="headerlink" href="#network-regularization" title="Permalink to this heading">¶</a></h2>
<p>Apply network smoothing by laplacian regularization to the glycan composition identification
scores. This procedure is described in detail in “Klein, J., Carvalho, L., &amp; Zaia, J. (2018). Application of network smoothing to glycan LC-MS profiling.
Bioinformatics, 34(20), 3511-3518. <a class="reference external" href="https://doi.org/10.1093/bioinformatics/bty397">https://doi.org/10.1093/bioinformatics/bty397</a>”. By default, the network used is simply
the full set of all glycan compositions in the hypothesis, with edges between compositions
whose composition-distance is less than or equal to <span class="math notranslate nohighlight">\(1\)</span> and with neighborhoods defined
for <em>N</em>-glycans.</p>
</section>
<section id="ms-ms-signatures">
<h2>MS/MS Signatures<a class="headerlink" href="#ms-ms-signatures" title="Permalink to this heading">¶</a></h2>
<p>Though this tool is designed to annotate putative glycan compositions from
LC-MS, this can lead to lots of strange matches. If your data contain MS/MS
scans, passing a non-zero value to <code class="docutils literal notranslate"><span class="pre">--require-msms-signature</span></code> causes the
program to include only features which contain MS/MS scans which look
“glycan-like”. Here “glycan-like” means containing abundant peaks which have
masses derived from mono-, di-, or tri-saccharide losses. The value of this
parameter sets the minimum ratio score.</p>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="mzml-preprocess.html">LC-MS/MS Data Preprocessing and Deconvolution</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="search-glycopeptide.html">Searching a Processed Sample with a Glycopeptide Database</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Joshua Klein.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>